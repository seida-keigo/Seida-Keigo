<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta content="width=device-width" name="viewport">
		<style>
			html,body{
				height:100%;
			}
			body{
				margin:unset;
			}
			video{
				display:block;
				width:100%;
			}
			div{
				font-family:verdana;
				font-size:min(100vh,100vw);
				line-height:1;
				height:100%;
				text-align:center;
			}
		</style>
		<title>聖地コンパス</title>
	</head>
	<body>
		<div>↑</div>
		<script>
			onclick=()=>DeviceOrientationEvent.requestPermission()
            ondeviceorientation=()=>document.querySelectorAll("div")[0].style="transform:rotatey(-"+event.gamma+"deg)rotatex("+event.beta+"deg)rotatez("+event.alpha+"deg)"
            let r=(k,i)=>({
                x:Math.sin(Math.PI*k/180)*Math.cos(Math.PI*i/180),y:Math.sin(Math.PI*i/180),z:Math.cos(Math.PI*k/180)*Math.cos(Math.PI*i/180)
            })
            0&&navigator.geolocation.getCurrentPosition(position=>{
                let x1=Math.PI*139.75/180//Math.PI*position.coords.longitude/180
                let y1=Math.PI*(35+41/60)/180//Math.PI*position.coords.latitude/180
                let x2=Math.PI*(139.75-180)/180//Math.PI*(39+49/60+34.3/3600)/180
                let y2=Math.PI*(35+41/60)/180//Math.PI*(21+25/60+21/3600)/180
                let cos=Math.cos
                let sin=Math.sin
                let tan=Math.tan
                alert("x: "+sin(x2-x1)+"\ny: "+(cos(y1)*tan(y2)-sin(y1)*cos(x2-x1))+"\nz: "+(cos(x2-x1)-1)) // 修正中
            })
		</script>
	</body>
</html>
